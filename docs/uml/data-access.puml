@startuml Data Access

package "Data Access Layer" {
    interface IExpenseRepository {
        + AddExpense()
        + GetExpenses()
        + UpdateExpense()
        + DeleteExpense()
    }

    interface IIncomeRepository {
        + AddIncome()
        + GetIncomes()
        + UpdateIncome()
        + DeleteIncome()
    }

    interface IUserRepository {
        + AddUser()
        + GetUser()
        + UpdateUser()
        + DeleteUser()
    }

    class ExpenseRepository implements IExpenseRepository {
        - databaseStrategy: IDatabaseStrategy
        + AddExpense()
        + GetExpenses()
        + UpdateExpense()
        + DeleteExpense()
    }

    class IncomeRepository implements IIncomeRepository {
        - databaseStrategy: IDatabaseStrategy
        + AddIncome()
        + GetIncomes()
        + UpdateIncome()
        + DeleteIncome()
    }

    class UserRepository implements IUserRepository {
        - databaseStrategy: IDatabaseStrategy
        + AddUser()
        + GetUser()
        + UpdateUser()
        + DeleteUser()
    }

    package "Entities" {
        class User {
            + Id : Guid
            + AccountName : string
            + Email : string
            + Password : string
            + CreatedAt : DateTime
            + Expenses : IList<Expense>
            + Incomes : IList<Income>
            + Budgets : IList<Budget>
            + Goals : IList<Goal>
        }

        class Expense {
            + Id : Guid
            + Amount : decimal
            + Description : string
            + Category : string
            + Date : DateTime
            + CreatedAt : DateTime
            + UserId : Guid
            + Users : IList<Users>
        }

        class Income {
            + Id : Guid
            + Amount : decimal
            + Source : string
            + Date : DateTime
            + CreatedAt : DateTime
            + UserId : Guid
            + Users : IList<Users>
        }

        class Budget {
            + Id : Guid
            + BudgetAmount : decimal
            + Month : DateTime
            + UserId : Guid
            + Users : IList<Users>
        }

        class Goal {
            + Id : Guid
            + GoalAmount : decimal
            + Deadline : DateTime
            + CurrentAmount : decimal
            + CreatedAt : DateTime
            + UserId : Guid
            + Users : IList<Users>
        }
    }
}

@enduml
